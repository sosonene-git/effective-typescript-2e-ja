# é …ç›®4  æ§‹é€ çš„å‹ä»˜ã‘ã«æ…£ã‚Œã‚‹

## è¦šãˆã¦ãŠãã¹ãã“ã¨

* JavaScriptã¯ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚’å¥¨åŠ±ã—ã€TypeScriptã¯ã“ã‚Œã‚’ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚æ§‹é€ çš„å‹ä»˜ã‘ã‚’ç”¨ã„ã‚‹ã“ã¨ã‚’ç†è§£ã™ã‚‹ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«ä»£å…¥å¯èƒ½ãªå€¤ã¯ã€å‹å®£è¨€ã«æ˜ç¤ºçš„ã«åˆ—æŒ™ã•ã‚Œã¦ã„ã‚‹ä»¥å¤–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚å‹ã¯ã€Œã‚·ãƒ¼ãƒ«ã€ã•ã‚Œãªã„ã€‚
* ã‚¯ãƒ©ã‚¹ã‚‚æ§‹é€ çš„ãªå‹ä»˜ã‘ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã†ã“ã¨ã«æ³¨æ„ã™ã‚‹ã€‚æœŸå¾…ã™ã‚‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ãªã„ã‚‚ã®ãŒæ¸¡ã•ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼
* ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã«æ§‹é€ çš„å‹ä»˜ã‘ã‚’åˆ©ç”¨ã™ã‚‹ã€‚

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```ts
interface Vector2D {
  x: number;
  y: number;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgGoQWA9lATAEWQG8AoZZADwC5kQBXAWwCNoBuM5ATxvubZIC+QA)

----

```ts
function calculateLength(v: Vector2D) {
  return Math.sqrt(v.x ** 2 + v.y ** 2);
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABBAhgGwiNKoFMAyuYA5lABYAUAbgFyIBqu0cATgEwAiAlIgN4BQiRC1xQQLJAFkcZAHQBnAI4so1WQA9EAKi2I2iANSIqsgJ7bdbLgG5+AXyA)

----

```ts
interface NamedVector {
  name: string;
  x: number;
  y: number;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgHJwLYQCYDUIJgD2UyA3gFDLIiYQBcyAzmFKAOYDcVyAHoyACuGAEbRu1AJ4DhYqNwC+QA)

----

```ts
const v: NamedVector = { x: 3, y: 4, name: 'Pythagoras' };
calculateLength(v);  // OKã€çµæœã¯5
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBAbgLhgOQIYFsCmATAap4KEAJxgF4YBvGADyQGYAaGATyQBZmwNMkByAAosoAC1QBzEqgh8YAXwDcAKGCoANsACua1FEwAZTGHGiAFHACUCmDAD0tmAHkA0oEAGQAq+gHPNA9gwBWIA)

----

```ts
interface Vector3D {
  x: number;
  y: number;
  z: number;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgGoQWA9lAzAEWQG8AoZZADwC5kQBXAWwCNoBuM5ATxvubY4BePRiyjsAvkA)

----

```ts
function normalize(v: Vector3D) {
  const length = calculateLength(v);
  return {
    x: v.x / length,
    y: v.y / length,
    z: v.z / length,
  };
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABGOAnAtgQwDYwF4CmAFAG4BciAagdGgMwAiAlIgN4BQiiECAzlImwEwAcygALRAF5uOCCGyYoBADLCx40kwDcnRKgJQQqJBy5cAHhRIA6C4gD0g9RIA0ergE9rNz4+eibh6IeD54-kKB4u5cAL66sUA)

----

```ts
normalize({x: 3, y: 4, z: 5}) // { x: 0.6, y: 0.8, z: 1 }ã‚’è¿”ã™
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/HYewTgtghgNglgLwKYAoDeAPAXAAgMwA0OAnrgCxEK4CsAvgJQ4D0TOaO2OADAHQBsRUtx4AOSrgCMOWoCSGQCvxgTQYgA)

----

```ts
function calculateLengthL1(v: Vector3D) {
  let length = 0;
  for (const axis of Object.keys(v)) {
    const coord = v[axis];
    //            ~~~~~~~ Element implicitly has an 'any' type because ...
    //                    'string' can't be used to index type 'Vector3D'
    //                    'string' ã‚’ä½¿ç”¨ã—ã¦å‹ 'Vector3D' ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã‚‹
    //                    ã“ã¨ã¯ã§ããªã„ãŸã‚ã€è¦ç´ ã¯æš—é»™çš„ã« 'any' å‹ã«ãªã‚Šã¾ã™ã€‚
    length += Math.abs(coord);
  }
  return length;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABBAhgGwiNKoFMAyuYA5lABb4CMAFAG4BciAartHAE4DMAIgJSIBvAFCJEaXFDFFSZRAF5EABgDcIxMA6JqEBAGdJKAB4xdiOMEQB5AEYArVlAB0Aa1wBPXXV79ho0TrB9ZDgOABN5RFoAbSMTAF1VP0QAemSk9L8AP2yczMQAUXEAWyJJGCKABzQYCBgoNDdEMhRTFCQAcja3dsQoNwrcRGtWFBBdQcdJtVFUjLm59v12GBIe1DB2yWHEMdxwqDhEFdDcQ17+wfaWNi5udumUtPnn0UWoZdXEQCSGQH95QApXQDqDIAzBkA0eqIK4ODg8HqAawZACUMgGeGQDjDIBhhkA9QyAToYvoANuUAigyAaIYHrMXs9AMoMgAsGQD2DIBzBkAsgyAKwZACIMgH0GQCBDIBABkAgZGAAl9KYB0s0Am3mAELcYeCuj0QTD6YAohkAfgyATQZAEAMD3EJHIiAA1AoALI4MiOFDWTw6MK8RKIAC+anYEhA7CQqpkqgtQA)

----

```ts
const vec3D = {x: 3, y: 4, z: 1, address: '123 Broadway'};
calculateLengthL1(vec3D);  // ã‚¨ãƒ©ãƒ¼ã«ã¯ãªã‚Šã¾ã›ã‚“ãŒã€NaNãŒè¿”ã‚Šã¾ã™
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBAbgU2AZgCIwLwwN4A8BcMyANDAJ6EAspAXoQIykCGAJiwE4IQSEDk9AJmQwAQuxCsA7kzK8AvgG4AUMCYAbYAFc1TKAgAyCMAHMoAC330AFIhSoAlApgwA9C5iAKhkCXDIB+GQNYMgPYMgFYMgFEMgH4MgNoMgMkMgDIMgIAMAHJMCTGAK-HhgJoMQA)

----

```ts
function calculateLengthL1(v: Vector3D) {
  return Math.abs(v.x) + Math.abs(v.y) + Math.abs(v.z);
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABBAhgGwiNKoFMAyuYA5lABb4CMAFAG4BciAartHAE4DMAIgJSIBvAFCJE7XFBDskAWRxkAdCgBGAZzoKAHvwDUiOeSVqNAT1375R9bQUAvXgG4hAXyA)

----

```ts
class SmallNumContainer {
  num: number;
  constructor(num: number) {
    // numãŒ0æœªæº€ã¾ãŸã¯10ä»¥ä¸Šã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
    if (num < 0 || num >= 10) {
      throw new Error(`You gave me ${num} but I want something 0-9.`)
    }
    this.num = num;
  }
}

const a = new SmallNumContainer(5);
const b: SmallNumContainer = { num: 2024 };  // OK!
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEDKC2YQgHIFd4GED2A7ALmAJa4CmATtAN4BQ00uGAXAxgEYUDcd0weE+cmmD5s5ABSN4LKR3IBKaj3oB6Fa3iAZBgAMgKnNAAXaA-BkD6DIHsGAIzbAp3KAoOUB2DIBYNQBAqpwBUMgS4ZAPwyAkhkCpRoCUGQGiGZWgiADNoSQxoAB5obWgAH0SNaAA+AF5oS0VaenzofAALcmwAdwZSCoBRclKJAAMATWw0aABzMAA3Umh4XoASKikAX2g2NHxoAEloMrACaAhsfuKSdviAWgBOADoG+RCRkLWIXaloLKluemPjmj5cAWgwS8qKhCRUDBwCYjIJABWeTcR7PNgsT7IdBYPCEEgUN5UDQsABM2lRABZoCNOKp1AB5ADSAEIgA)

----

```ts
interface Author {
  first: string;
  last: string;
}
function getAuthors(database: PostgresDB): Author[] {
  const authorRows = database.runQuery(`SELECT first, last FROM authors`);
  return authorRows.map(row => ({first: row[0], last: row[1]}));
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgIIFcwAsD2VkDeAUMsjMFAM5gBcy1UoA5gNwnIA2c1dDzbAXyIx0IBGGA4QyJhDAZseSgAoAJnDBwARtwh0ACjmpMoESgBEAQgEo6C3FADaAXULsEU6sjiYHAJRwAd0pkAF5kdU0dSggAOihRAEV0aABPZQADAGUAUQAZHIBhABUyCmoAGk5uMGQAMT8AeQBZb18lDOs2UlMwdChpH0UoAODYgFs4AAdlKCCwgD5kZQJyKlpkOcDHAAZnKq4eTaDHAEZnAWsuogEgA)

----

```ts
interface DB {
  runQuery: (sql: string) => any[];
}
function getAuthors(database: DB): Author[] {
  const authorRows = database.runQuery(`SELECT first, last FROM authors`);
  return authorRows.map(row => ({first: row[0], last: row[1]}));
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgCICFkG8BQzlQCuIAiodAJ4BcyAFAM4COANjfWFKAOYCUyAvAD5kcEBQDaAXQDcOAL44YxBGGAB7EMi4QwAQUJgAFmqj1aAEzhg4AIzj0INDDxr6jJqdjzIEG9iINjKAAlNQB3egFkS2s7BwA6IlJyKApaAAMAZQBRABlsgGEAFWQYYFMwABpkZnswZAAxYIB5AFkA91N0nll8KB1CKE04QJNQiPiAWzgAB1oocIFhWiwyipoFsPEABklq2vYN8PEARkk5Hh75IA)

----

```ts
test('getAuthors', () => {
  const authors = getAuthors({
    runQuery(sql: string) {
      return [['Toni', 'Morrison'], ['Maya', 'Angelou']];
    }
  });
  expect(authors).toEqual([
    {first: 'Toni', last: 'Morrison'},
    {first: 'Maya', last: 'Angelou'}
  ]);
});
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/C4UwzsAUDkDmLAIIFdgAsD2AnM0A0ABJAJQEC8AfAQN4BQBBAxhgHYQECGqmO5B8SbtjCQ6DBlmQsAishBYAnpDABHADYAuAhCwBLFrFJjxEhMiwsCAbSvQAKq134C0ALLY9YVtAC6hW64cChzO0IgGIGoYyL4+ANz04gC+iUnECQwgAB4ADiCMUFzowsQAdMAYAKIqyBxqkFaJDNQAZro4wFr2js5qHBBd7lie3kl4TTRtHYNBIYR9Ay7h8FExKQw+6bRpcUA)
