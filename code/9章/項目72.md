# é …ç›®72  TypeScriptã®ç‹¬è‡ªæ©Ÿèƒ½ã®ä½¿ç”¨ã‚’é¿ã‘ã€ECMAScriptã®æ©Ÿèƒ½ã‚’ä½¿ã†

## è¦šãˆã¦ãŠãã¹ãã“ã¨

* å¤§ã¾ã‹ã«è¨€ã£ã¦ã€ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã™ã¹ã¦ã®å‹ã‚’å–ã‚Šé™¤ã‘ã°ã€TypeScriptã‹ã‚‰JavaScriptã«å¤‰æ›ã§ãã‚‹ã€‚
* `enum`ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ãƒˆãƒªãƒ—ãƒ«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€å®Ÿé¨“çš„ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­ã¯ã“ã®ãƒ«ãƒ¼ãƒ«ã®æ­´å²çš„ãªä¾‹å¤–ã§ã‚ã‚‹ã€‚
* ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã«ãŠã‘ã‚‹TypeScriptã®å½¹å‰²ã‚’å¯èƒ½ãªã‹ãã‚Šæ˜ç¢ºã«ã—ã€å°†æ¥ã®äº’æ›æ€§ã®å•é¡Œã‚’å›é¿ã™ã‚‹ãŸã‚ã€éæ¨™æº–ã®æ©Ÿèƒ½ã®ä½¿ç”¨ã‚’é¿ã‘ã‚‹ã€‚

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```ts
enum Flavor {
  Vanilla = 0,
  Chocolate = 1,
  Strawberry = 2,
}

let flavor = Flavor.Chocolate;
//  ^? let flavor: Flavor

Flavor[0]  // ã“ã®å€¤ã¯"Vanilla"
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/KYOwrgtgBAYgNgQwG4HsBOUDeAoKUBqCIAlnIlALxQAMANLlAMIAWKAxiogC7CVQCM9PAGUuaBAHcARsDRoAnnwBM9AL7ZscYFygAzRKgxV4ydADoW7Tgh4BubAHoHeAHoB+KFp37TaAFywBugaJoYA2tQAunhOUIDKDIB2DIAkCoD2DABEhCRkCGlAA)

----

```ts
enum Flavor {
  Vanilla = 'vanilla',
  Chocolate = 'chocolate',
  Strawberry = 'strawberry',
}

let favoriteFlavor = Flavor.Chocolate;  // å‹ã¯Flavor
favoriteFlavor = 'strawberry';
// ~~~~~~~~~~~ Type '"strawberry"' is not assignable to type 'Flavor'
//             å‹ '"strawberry"' ã‚’å‹ 'Flavor' ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/KYOwrgtgBAYgNgQwG4HsBOUDeAoKUBqCIAlnIlALxQDkSRpi1ANLlAMIAWKAxiogC7BKNbl14DgzVgGV+aBAHcARsDRoAnsOoBnOYpVr1UgL7ZscYPygAzZOmKD4djFSeo0AOk48+CQQG48AHogqEBo9UB7Bjd0bFt3B2BolxpdeWVVDWp-bBCoAD8CwqK8qAAVdQAHIWoAIlT9DPUa6ihibSgQFCsEbW1iAHMQBCULKH4UMcrqpOoc0LwFxYWwmjq9dMNmqEAkhhXqGahAawZAJyVAKIZAZX1AMwZAaIZAZQZACwYIwHMGQFkGQD8GQG0GQGSGQCAGIA)

----

```ts
function scoop(flavor: Flavor) { /* ... */ }
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAZwnOAHAFMANgQwDc4AnALkQDEDiSBKRAb0QHoAqRAOm8TZcQC+QA)

----

```js
scoop('vanilla');  // JavaScriptã§ã¯OK
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/M4Yw9mAOAUDkBuBDAdgSwDbsbAlAbgAICB6YggKUSQGUQAnVSAF0HMGQewYB5AaSA)

----

```ts
scoop('vanilla');
//    ~~~~~~~~~ '"vanilla"' is not assignable to parameter of type 'Flavor'
//              å‹ '"vanilla"' ã®å¼•æ•°ã‚’å‹ 'Flavor' ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«
//              å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

import {Flavor} from 'ice-cream';
scoop(Flavor.Vanilla);  // OK
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/M4Yw9mAOAUDkBuBDAdgSwDbsbAlAbgCgB6IgAnNID9qabTYAiJNTRB2U1YU5MAF1KJgwVAHNkiAEboApqT5hSkRACdEAWxl8ZK0mABm8gJ6Q5sAGJZ4YFbGJkKjp6UDR6vSYoMWdqUB2DIFR9QAdTQCSGNwsrGw5fQEWGQEuGQEOGQB+GQH6GRMBrBntnLNJAJyVAKIZAZX1AMwZAaIZAZQZACwZAewZAcwZAWQZAPwZAbQZAZIZAIAYCAlR1SBsBAG9LRGsVAF9SfRUwdXpUEBkAWhAVGQ1YQlAIGCGRgDoANU9WfHISUgB5AGkgA)

----

```ts
type Flavor = 'vanilla' | 'chocolate' | 'strawberry';

let favoriteFlavor: Flavor = 'chocolate';  // OK
favoriteFlavor = 'americone dream';
// ~~~~~~~~~~~ Type '"americone dream"' is not assignable to type 'Flavor'
//             å‹ '"americone dream"' ã‚’å‹ 'Flavor' ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/C4TwDgpgBAYgNgQwG4HsBOUC8UDkSEB2AlnIjlAD64DGAFitSosBOVTgM7BoIDuARhDRoQOANwAoCXAjAoAM2ToiLeErQAuWIlQZsOOgyYIW4qFAD0FqAHkA0hMW6VENbqy4EAWyFFGBaAATNAhvcQkrKAA-GNi4qKgAFXBoHAAib19-IJDvNPIiDigCFDkEDg4iAHMCBH4ZKGAURpTcN3QcCOtzHt6ewGj1XAyfND8UAKhg0K98qEAkhkGcdrRyQGsGQCclQCiGQGV9QDMGQGiGQGUGQAsGQHsGQHMGQFkGQD8GQG0GQGSGQCAGIA)

----

```ts
class Person {
  name: string;
  constructor(name: string) {
    this.name = name;
  }
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAKCmAnCB7AdtA3gKGtNYAtvAFzQQAuiAlmgOYDcu0w6liArsBSogBQFiZdrToBKLMzwUAFtQgA6QfGgBefEXhM8AX2w6gA)

----

```ts
class Person {
  constructor(public name: string) {}
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAKCmAnCB7AdtA3gKGtY6EALogK7BEqIAUADqQEYgCWw0aYAtvAFzTGJmaAOYBKLAF9sEoA)

----

```ts
class Person {
  first: string;
  last: string;
  constructor(public name: string) {
    [this.first, this.last] = name.split(' ');
  }
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAKCmAnCB7AdtA3gKGtAZgJbIAuAXNBCYoWgOYDcu04VFVN9Tew6HArsBIpEACgAO-AEYhCwaGjABbeO2q06ASizM8AbRIALQhAB0RUgBpoRk6dYkAutAC8C5fFMRxskqIDk0P6a3NAAvthhQA)

----

```ts
class PersonClass {
  constructor(public name: string) {}
}
const p: PersonClass = { name: 'Jed Bartlet' };  // OK

interface Person {
  name: string;
}
const jed: Person = new PersonClass('Jed Bartlet');  // ã“ã‚Œã‚‚OK
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAKCmAnCB7AdgYXFaBvAUNNMOhAC6ICuwZKiAFAA6UBGIAlsNGmALbwAuaOUTs0AcwCUeAL745JNOWiMhCZOiyQYAXjzc+g6AHIAUvAAm0AEJhEZEPDLHoMgNxEA9J+gB5ANL4+GJkSABmYMDwcEioaHiEBvxCImLibvL4isoAVpZqsejQemjwAO4xGpjYEPRmljZ2Dk7Gkh7Q3tCAygyAMQyAQQwBQA)

----

```ts
namespace foo {
  export function bar() {}
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/HYQwtgpgzgDiDGEAEAzA9mpBvAUEpEAHjGgE4AuqArsPOQJZrBIBGIpAFAJTYC+OvIA)

----

```ts
/// <reference path="other.ts"/>
foo.bar();
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/PQgEB4CcFMDNpgOwMbVABwIYBcAWBeAIgHs8EA6bAZ0OAD4AoWY48gI00gAoBKAbiA)

----

```ts
class Greeter {
  greeting: string;
  constructor(message: string) {
    this.greeting = message;
  }
  @logged  // <-- ã“ã‚ŒãŒãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
  greet() {
    return `Hello, ${this.greeting}`;
  }
}

function logged(originalFn: any, context: ClassMethodDecoratorContext) {
  return function(this: any, ...args: any[]) {
    console.log(`Calling ${String(context.name)}`);
    return originalFn.call(this, ...args);
  };
}

console.log(new Greeter('Dave').greet());
// æ¬¡ã®ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ï¼š
// Calling greet
// Hello, Dave
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEDiBOBTRAXR9oG8BQ1oHMlUBLAO3wC5oIV4z8BuXaYAe1JvgFdgVX4AFAFtEUMPkRVO9AJRZmeFAAtiEAHSFkKetAC80EWIlM8AX2YABEK3wSAJngD0j6AB4AtO+iBlBkAxDIBkGQHGGQGaGQBuGQB+GQH6GcOZNVAE5HDw8JBQueFJoAAMACUQQawAaaAASTGVVDSJtclMsk2hzc2wAMy5SXmJ2aGtbRDsBfmJ8MjAQADFSKjBSAE9itlI0AA8UKgBhcCgAWVQlVjsAEUQ2eDA+eHX2FZRE5lT0zLaO7XYBCohpueK1X7B4fCfaAzWYAbQAundkix2BBWCBEGpegIsusxiAdGUAMq0egCRY3NSkMAiGR1GQNFKoR7QIYjYkTUhqYDo94qCA-P4AiAU5imJjNRZwhFImwCUiIADucGq6AEAHJDmAAG6IeUyKpaBK85zQQCE1oA7BkAtwyABoZAEkMgC-FQDZSoBNBkA0QyALH-sLq0QUdHEUM6XHkCqxikrVUA)

----

```js
class Foo {
  _private = 'secret123';
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEBiD29oG8BQ1oH0AOAnAlgG5gAuAptALzQDkEZwuZJAjAEwDMNA3KgL5A)

----

```js
const f = new Foo();
f._private;  // 'secret123'
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBAZjAvDMBTA7jAYiEAKASgG4AoOAOgH0AHAJwEsA3AQylSJhgHouYByCKmC1UUAIwAmAMx8gA)

----

```ts
class Diary {
  private secret = 'cheated on my English test';
}

const diary = new Diary();
diary.secret
//    ~~~~~~ Property 'secret' is private and only accessible within ... 'Diary'
//           ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ 'secret' ã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ã€ã‚¯ãƒ©ã‚¹ 'Diary' å†…ã§ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAiCWYBOBPaBvAUNaAHJ8AbmAC4Cm0EZwSZJ0AvNAOTAAWZpZAJtAPYA7aAFs0AUQEBzEPAhto5CCWYBuTAF9MmYIKXRuiVI2gCyAdziGUACgCUag8hQA6KjTqYA9J5w4AfgGB0AAKSHy4ZEgkaMxutMrQsngExOTQYAK8giBoYMDAZFDwAEYgFGbwJGzwQs51LAhOzF4+vm2+gOsMgLcMgIsMgGMMgMUMLHF0zNCA9gwdgJcMgCUMgJsMgD8MgBMMgOYMgIAMgPUMU4CdDA1WY4ChiiuAdgyA-gyARQwbgN0M2yuAsgyAfgyAmgxAA)

----

```js
class Diary {
  constructor() {
    this.secret = 'cheated on my English test';
  }
}
const diary = new Diary();
diary.secret;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAiCWYBOBPaBvAUNawD2AdhAC5ICuwxeSAFAJQbY7TEAW8EAdBAKbBI9i0ALzQA5MFY8wxHgBNohaAFs0AUQIBzEB1YseJMQG4mAX0zn8RIXMSoR0AjwDucOynonbyFNz4DiIyA)

----

```ts
const diary = new Diary();
(diary as any).secret  // OK

console.log(Object.entries(diary));
// ãƒ­ã‚°ã«[["secret", "cheated on my English test"]]ã‚’å‡ºåŠ›ã™ã‚‹
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBAJgSwIYCcCeMC8MwFMDuMAIsugBQCUA3AFBmKoZIQxJhoUB0EuwKusGAHohMAPIBpGjVCQQAG1yd5IAOZkxAIwBWvKJ1xgoKBLgj1SHajRExAtwyAGhkDWDAG0XAIh58B7gDQx3YAALXCQoXDgYcBgAWwwAUTBVeQQIIJhw6HcAXWzAJIZAL8VAbKVATQZAaIYgA)

----

```ts
class PasswordChecker {
  #passwordHash: number;

  constructor(passwordHash: number) {
    this.#passwordHash = passwordHash;
  }

  checkPassword(password: string) {
    return hash(password) === this.#passwordHash;
  }
}

const checker = new PasswordChecker(hash('s3cret'));
checker.#passwordHash
//      ~~~~~~~~~~~~~ Property '#passwordHash' is not accessible outside class
//                    'PasswordChecker' because it has a private identifier.
//                    ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ '#passwordHash' ã«ã¯ private è­˜åˆ¥å­ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹
//                    ãŸã‚ã€ã‚¯ãƒ©ã‚¹ 'PasswordChecker' ã®å¤–éƒ¨ã§ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚
checker.checkPassword('secret');  // falseã‚’è¿”ã™
checker.checkPassword('s3cret');  // trueã‚’è¿”ã™
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEAKkQO4HsBOATAwgCwKbAGtdVoBvAKGmgGIAHBFDACUmwC5oA7AVwFsAjYgG5ylaMGScIAF1Tdg0tAAp6URuhYR2XPoNQBKMmKrTsASwgA6OgzQbW0ALzRVSO5uwiqAX1FVgeITwanYqthgcMqhmnADmhhRUVKi40tyonNDYrGEhGIaOhdCmFtau6h5e0L6+5BJS0uKBRCTOnLiIcOFYzcRK2VpKAOQQAMzAKdJD+voiAfgtZd0e5AD0q0lJAH47u3u7cKjItMTSAJ7QQzZ59lpD0BZcyI1gwMC4UGb8ILjQyNzSCBmdC-UAINYbTZQ6GbIbBNwYHALYj3QTAMDcCC-MyNAbQMAuaIANzA0mxIM40jMADMzMRLBCYUyoYB1hkAtwyARYZAGMMgGKGS7XBG3bD3QDWDIB7BkJZhJZOggA1owCkSoAFbUAMgyAcGNAFnagFUGQAxDIAzBkAIgyAaIZGczTYB9BkAgQyAQAZAPUMgEuGQCdDJd4eokYQUdBAHYMgDRNQAXCYBzBjFgCKGG2AboYHf7ALIMgD8GQDaDIBkhkAQAx1XqoSzzILdYZYiapaZCKjraDUsAgLGAJIZACvxgE0GFPItMZggu0IjcaTfOFjaybi4KvVoA)
