# é …ç›®37  ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯é™å®šçš„ã«ä½¿ç”¨ã™ã‚‹

## è¦šãˆã¦ãŠãã¹ãã“ã¨

* ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€å‹ãƒã‚§ãƒƒã‚«ãƒ¼ãŒãƒã‚°ã‚’ç™ºè¦‹ã™ã‚‹ã®ã‚’å¦¨ã’ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’åŸ‹ã‚ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã®ç¹°ã‚Šè¿”ã—ã‚„ã€ä¸€è²«æ€§ã®æ¬ å¦‚ã‚’æ‹›ãå¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
* ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹å‰ã«ã€æœ¬å½“ã«ãã‚Œã‚’å¿…é ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã§ããªã„ã‹ã‚ˆãè€ƒãˆã‚‹ã€‚
* æ­£è¦åŒ–ã•ã‚Œã¦ã„ãªã„å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¨æ­£è¦åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã«ã€ãã‚Œãã‚Œåˆ¥ã®å‹ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã™ã‚‹ã€‚
* ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®çµ„ã¿åˆã‚ã›çˆ†ç™ºã‚’é¿ã‘ã‚‹ã€‚

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```ts
interface FormattedValue {
  value: number;
  units: string;
}
function formatValue(value: FormattedValue) { /* ... */ }
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgGIHsoFs5kgEwDU4AbAVxQG8AoZZAN1IoC5kQysAjaAbluTIhgYAM6sRYKKADmfAL7UYghGGDoQyGJhxhi5CAApG+1hmy4CeigEpklZAHoAVMgB075E4fI5QA)

----

```ts
interface Hike {
  miles: number;
  hours: number;
}
function formatHike({miles, hours}: Hike) {
  const distanceDisplay = formatValue({value: miles, units: 'miles'});
  const paceDisplay = formatValue({value: miles / hours, units: 'mph'});
  return `${distanceDisplay} at ${paceDisplay}`;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgBLANYoN4ChnIC2wANhAM4BcyIAroQEbQDc+yAFgPa1RU31MorAL64YtEAjDBOIZDE5RCcMOiwAKbMTLkANB269h1NRACUyPAQSzyYZABNgduJIgARZwAcScAJ7IALzyispgAGpwJLQQmgBuUTHU2hT6EsBgfADkKeRZwmas1rb2Xoge3r4BwQpKKpHRsdgJjcmkFMgA9AY8esjpmdQ5Xuz5hWxQEGA8cgAGACTYTi5unuQ+-sLIKsiLZUhrG37CsyJAA)

----

```ts
type UnitSystem = 'metric' | 'imperial';
interface FormattedValue {
  value: number;
  units: string;
  /** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚¤ãƒ³ãƒšãƒªã‚¢ãƒ«æ³•ï¼ˆimperialï¼‰ */
  unitSystem?: UnitSystem;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/C4TwDgpgBAqgdgS2AZRAZ2BAtlAvFAciwmACcEBjAqAH0IS0nIEMAbAgbgCgE5NSAZswrQAYgHtSWZsEwATAGpsArtADeXKFABuKiAC4ocZVgBGEUty3LEwNIYzk4AcytQA9ACpPUQOMMgVYZASoZAa4ZACYZAewZAEoZAZ4ZALYZAK4ZAIoZgwFWbQAh-hiYENkBIf6hPd00oGyRUDGwAfkN4UvRMLG4AXyA)

----

```ts
interface AppConfig {
  darkMode: boolean;
  // ... ãã®ä»–ã®è¨­å®šé …ç›® ...
  /** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚¤ãƒ³ãƒšãƒªã‚¢ãƒ«æ³•ï¼ˆimperialï¼‰ */
  unitSystem?: UnitSystem;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgIIAd0GED2IbADmyA3gFDLIAmcUA1gLI5UQBcyARjjgDYRwgA3BWQB6UcgB005IF0GQHYMgNbl5gWijAWdqBQDMB3blOkjRAKgPJA4wyBVhkCVDIGuGQBMMgewZAJQyBnhkBbDICuGQEUMVwKs2gCH-gALbo0MBwPICQ-8gGoiIAriDAYADKAJ4AzpABAPzsAKoJyemZwgC+QA)

----

```ts
function formatHike({miles, hours}: Hike, config: AppConfig) {
  const { unitSystem } = config;
  const distanceDisplay = formatValue({
    value: miles, units: 'miles', unitSystem
  });
  const paceDisplay = formatValue({
    value: miles / hours, units: 'mph'  // ãŠã£ã¨ã€unitSystemã‚’æ¸¡ã—å¿˜ã‚ŒãŸï¼
  });
  return `${distanceDisplay} at ${paceDisplay}`;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABMOAnAtgQygCRgawFMAKAb3RgBtCBnAGkQAs4RUaBfALkTyIYgTAYAc24BBAA4SAwoJEBKRKQBQiRALA0oSxOBhQAygE8thdInaIAvOrnCA3KtubtAExhbMkQgBEPEykwja2Q0LCgANUxKEBIVNTUAN2jY7gpqel0wfRpuAHJ02jyGPUMTKDMndnlHNQ0tRAlMCF9-QOCbFAxsKJi4pySUwjSqWkQAeiYWNhLsqFzEAolGPLVxycApBkBjBkALBkBABlLjU3RAJIZAQjtAdQZADf1AGIZAfQZAQH+qmqdUQihWJAADABJSd083j8NACQUs2EQfyaLWBoKM7C+jnYQA)

----

```ts
declare let config: AppConfig;
const unitSystem = config.unitSystem ?? 'imperial';
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEEQBd5gPYDsBmBLA5gFzwCCADmQMJZ74DcAUBpgM6oCumuyAygJ5sQAW3gBeNDQIA6Tt36CRAfkXwA5LiFkQMXFAiq6QA)

----

```ts
const unitSystem = config.unitSystem ?? 'metric';
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBArmAllAygT2gUwLYwLwyhgBmiA5gHQLLpa4D89MA5NplAE6LDMDcQA)

----

```ts
interface InputAppConfig {
  darkMode: boolean;
  // ... ãã®ä»–ã®è¨­å®šé …ç›® ...
  /** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚¤ãƒ³ãƒšãƒªã‚¢ãƒ«æ³•ï¼ˆimperialï¼‰ */
  unitSystem?: UnitSystem;
}
interface AppConfig extends InputAppConfig {
  unitSystem: UnitSystem;  // å¿…é ˆ
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgJIgA4FcwEEMYDCA9iDMAObIDeAUMsgCZxQDWAssYxAFzIBGxYgBsIcEAG56yAPQzkAOiXJAugyA7BkBrcmsC0UYCztQKAZgO7dFS6TIBU55IHGGQKsMgSoZA1wyAJhkD2DIBKGQM8MgLYZAVwyAihkdAVZtACH-gAFsMaGA4YUBIf+RzGWksEGAwAGUATwBnSHCAfj4AVTTM3PypAF9aUEhYRBR8IlJyKggAD0gQRhy0TBxmkjJKGhSy7LyIcJKJiumJBjlkQFH9QAgM2iqgA)

----

```ts
function normalizeAppConfig(inputConfig: InputAppConfig): AppConfig {
  return {
    ...inputConfig,
    unitSystem: inputConfig.unitSystem ?? 'imperial',
  };
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABGOAnAtgQwDYwF4CmAggA4kDCCwMA5gBQxgkhSVjU0BciAkky6QpVaASm6C2HRAG8AUIkSoCUEKiRyFCgHQ7GzVsJoAaeZvAwoAZQCeAZygF03PS0m0t5q3YfpEAfj9EAHIYdBICVBgcIJMFAF8Ablk4oA)
