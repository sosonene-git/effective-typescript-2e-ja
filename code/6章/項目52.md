# é …ç›®52  ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚·ã‚°ãƒãƒãƒ£ã‚ˆã‚Šæ¡ä»¶å‹ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨ã™ã‚‹

## è¦šãˆã¦ãŠãã¹ãã“ã¨

* ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚·ã‚°ãƒãƒãƒ£ã‚ˆã‚Šæ¡ä»¶å‹ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨ã™ã‚‹ã€‚ãƒ¦ãƒ‹ã‚ªãƒ³ã§ã®åˆ†é…ã«ã‚ˆã‚Šã€æ¡ä»¶å‹ã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãªã—ã§ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹å®£è¨€ã‚’å¯èƒ½ã«ã™ã‚‹ã€‚
* ãƒ¦ãƒ‹ã‚ªãƒ³ãŒåˆ©ç”¨ã§ããã†ã«ãªã‘ã‚Œã°ã€ç•°ãªã‚‹åå‰ã‚’æŒã¤2ã¤ä»¥ä¸Šã®é–¢æ•°ã«åˆ†ã‘ãŸã»ã†ãŒåˆ†ã‹ã‚Šã‚„ã™ããªã„ã‹æ¤œè¨ã™ã‚‹ã€‚
* æ¡ä»¶å‹ã§å®£è¨€ã•ã‚ŒãŸé–¢æ•°ã®å®Ÿè£…ã«ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’1ã¤ä½¿ã†æˆ¦ç•¥ã‚’å–ã‚‹ã“ã¨ã‚’æ¤œè¨ã™ã‚‹ã€‚

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```js
function double(x) {
  return x + x;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAEziARgGwKYAoAeAlIgN4BQiiATtlCFUvogNSL4DcZAvkA)

----

```ts
declare function double(x: string | number): string | number;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtX2B2QCMIQAKADwC54BnDGLVAc3gB95VkBbYkGAEpaDJqw5de-GAG4gA)

----

```ts
const num = double(12);
//    ^? const num: string | number
const str = double('x');
//    ^? const str: string | number
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBGCuBbGBeGATE8BGAbApgBQCMATAJQDcAUAPS0yMwB6A-DKJLAogFwzQATgEswAcxgAfOEmz5B1TtAFRBqDFjxEA5AA9tVOgyZsO4ZUP5DRE6TzmCgA)

----

```ts
declare function double<T extends string | number>(x: T): T;

const num = double(12);
//    ^? const num: 12
const str = double('x');
//    ^? const str: "x"
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtX2B2QCMIQAeAFXhAA8MRVgBneZjGLVAc3gB94qZAFtiIGAD4AFLQBc8SgEp5lANwAodWDztBI+AF4CRUiCkBGAEyKNAelvxH8AHoB+eNtS6hw+Va06GGwchsYkZFIA5LSRNur2Ti7unrrsMPIARLQZQA)

----

```ts
declare function double(x: number): number;
declare function double(x: string): string;

const num = double(12);
//    ^? const num: number
const str = double('x');
//    ^? const str: string
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtX2B2QCMIQAKADwC55VkBbYkGASlvqZYG4AoUSLAQp02PASKkKNeAGcMMLKgDm7OQqXK+vMHnl1G8ALwSSZcgEYATKz4B6O-CfwAegH54u1Ps4dGzGB09DHUYY1MpcgBySijbXgdnVw8vfXkYWnTNIA)

----

```ts
function f(x: string | number) {
  return double(x);
  //            ~ Argument of type 'string | number' is not assignable
  //              to parameter of type 'string'
  //              å‹ 'string | number' ã®å¼•æ•°ã‚’å‹ 'string' ã®
  //              ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABMAFADwFyIM5QE4xgDmiAPomCALYBGApngJSIDeAUIonnVCHkgBM4IGgBs66RgG4OiAPRzOS5UoB+iAIJ4i1OmCiI4wRFACeABzqIA5LgLEyFavTzXEMbBTgGAhtmwwRGA+YnSyCiqRSlBwiOY+eD5UPAyGxmaWNnaERNbhilGRgNHqWfg5jpS0DG6AdgyAqPqADqaASQwltmXEtfmFkYCLDICXDICHDIA-DID9DEOA1gyATkqAUQyAyvqAZgyA0QyAygyAFgyA9gyA5gyAsgyAfgyA2gyAyQyAQAxsAL5AA)

----

```ts
declare function double<T extends string | number>(
  x: T
): T extends string ? string : number;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtX2B2QCMIQAeAFXhAA8MRVgBneZjGLVAc3gB94qZAFtiIGAD4AFACh48WgC54lGQEpl1Ogyat2nHvAD8bDl17Kho8QG4gA)

----

```ts
const num = double(12);
//    ^? const num: number
const str = double('x');
//    ^? const str: string

function f(x: string | number) {
  //     ^? function f(x: string | number): string | number
  return double(x);  // OK
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBGCuBbGBeGATE8BGAbApgBQCMATAJQDcAUAPS0yMwB6A-DKJLAogFxxJs+AE7VO0GNGGoMWPEQDkADwVU6DJmw7gJU-lICWYAObVqAM3hhgUA+BjnCS-VGFHjMAD4DEQ4eRgAb2pGeiZGLUtrW3tHZ0lXdy8fP3IXNxNknj8QmGF8KHhhMFkcAicqUIYAeQBpagBfIA)

----

```ts
function double<T extends string | number>(
  x: T
): T extends string ? string : number;
function double(x: string | number): string | number {
  return typeof x === 'string' ? x + x : x + x;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAEziARgGwKYB4Aqi2AHlNmMgM6KVQBOMYA5ogD6JggC262dAfAAoAUIkTEAXInzCAlFMIkyFarQbNEAfhr1GLKZx58A3MNCRYCFGizZBknepbtDvOvMd62Hbm8QBvUUQ6bCgQOiQoAE8AB2w4YHFEAF5UxAByNT10rSSAaiSpYkQC4lMAXyA)
