# é …ç›®51  ä¸å¿…è¦ãªå‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’é¿ã‘ã‚‹

## è¦šãˆã¦ãŠãã¹ãã“ã¨

* å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’å¿…è¦ã¨ã—ãªã„é–¢æ•°ã‚„ã‚¯ãƒ©ã‚¹ã¯ã€å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ ã—ãªã„ã€‚
* å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯å‹ã‚’é–¢é€£ä»˜ã‘ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã‚ã‚Šã€ã™ã¹ã¦ã®å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯å‹åŒå£«ã®é–¢é€£æ€§ã‚’æˆç«‹ã•ã›ã‚‹ãŸã‚ã«2å›ä»¥ä¸Šç™»å ´ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
* å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãŒå€¤ã®å‹ã®æ¨è«–çµæœã¨ã—ã¦ç¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’è¦šãˆã¦ãŠãã€‚
* ã€Œæˆ»ã‚Šå€¤å‹ã®ã¿ã®ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã€ã‚’é¿ã‘ã‚‹ã€‚
* ä¸å¿…è¦ãªå‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯ã—ã°ã—ã°`unknown`å‹ã«ç½®æ›å¯èƒ½ã§ã‚ã‚‹ã€‚

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```ts
function identity<T>(arg: T): T {
  return arg;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABDAJgUzLKBPAPAFQD4AKAQwCcBzALkXwEpb9EBvAKEUXLShHKQqUA3GwC+QA)

----

```ts
const date = identity(new Date());
//    ^? const date: Date
const nums = [1, 2, 3];
//    ^? const nums: number[]
const numsCopy = nums.map(identity);
//    ^? const numsCopy: number[]
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBAJgQygUxgXhgSzssVNQCeAFGMgO4wAiSyxAlPQNwBQA9GzFzAHoD8MUJFiIUALmq0WQ6DDABXALYR0MANoBGADQwATDoDMAXVYduvATNgLlEmwCNkAJzVHp4WTYgBhEAAdCVS8AOkUEP2JsXHwiZnZObn5BD2slH39COyVHFyMgA)

----

```ts
function identity<T>(arg: T): T {
  //           ï¼ˆå®£è¨€ï¼‰    1   2
  return arg;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABDAJgUzLKBPAPAFQD4AKAQwCcBzALkXwEpb9EBvAKEUQHovO--OgCH-AxdqAAKMCQ--wCMfAEwdE5NFBDkkFSgG42AXyA)

----

```ts
function third<A, B, C>(a: A, b: B, c: C): C {
  return c;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABFAFjATgEwDwEEA0iAQoQMIB8AFAIYBciBiARvSYhPaQJSeIDeAKESJ0AUygh0SCAG4BAXyA)

----

```ts
function third<C>(a: unknown, b: unknown, c: C): C {
  return c;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABFAFjATgEwDwGEB8AFAIYBci4A1mHAO5gA0iARuVTfUxObgJQ+IA3gChEidAFMoIdEggBuYQF8gA)

----

```ts
declare function parseYAML<T>(input: string): T;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtXwAdYBnEATQEEBZAGQB4AVAPgAotUDkMAueYjGOwDmASl4MA3EA)

----

```ts
interface Weight {
  pounds: number;
  ounces: number;
}

const w: Weight = parseYAML('');
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgOoWAcwBZmQbwChlkAHAewFcQATAZwC5kRKBbAI2gG5jkqQkjZm05QeAX0KEE5EHTwB3Juiy5kAXjJwodCAE0AggFkAMgAoA5BYCUXIA)

----

```ts
declare function parseYAML<T=null>(input: string): T;
const w: Weight = parseYAML('');  // ã‚„ã¯ã‚Šã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtXwAdYBnEATQEEBZAGQB4AVAXlWQggD4AKLVA5DAC54xDDF4BzAJTCGAbgBQYPKPgB3YQHUQWCQAsM8JoRLlqNLgHJLUufHgB6B-EAhDIHsGQFEMgCoZAlwyAfhkBrBkArBkBIhiDAEQYgA)

----

```ts
declare function parseYAML(input: string): unknown;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtXwAdYBnEATQEEBZAGQAotUDkMAueYjGRgcwEp2aANaocAd1QBuIA)

----

```ts
const w = parseYAML('') as Weight;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYewdgzgLgBA7jAvDADgQwE4QKYE0CCAsgDIAUA5OQJQxoQwDq2AlgOYAWUA3EA)

----

```ts
function printProperty<T, K extends keyof T>(obj: T, key: K) {
  console.log(obj[key]);
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABABwE4zFACquyCmqUAngDwAqANIgNKL4AeU+YAJgM6IDW+xcwicgD4AFHABGAKwBcg6j2KyaASkQBvAFCJEEBOzgAbfADoDcAOZipAbQUBdZQG4NAXyA)

----

```ts
function printProperty<T>(obj: T, key: keyof T) {
  console.log(obj[key]);
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABABwE4zFACquyCmqUAngDwAqAfABRwBGAVgFyLkA0iA1vsS98XGCsAlIgDeAKESIICAM5wANvgB0iuAHNajANr8AusIDcEgL5A)

----

```ts
function getProperty<T, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAcwKZQAoCc4AdVZQCeAPACoA0iA0oqgB5SpgAmAzogNapFzCJkAfAAo4AIwBWALgFVuRGdQCUiAN4AoRIizoQWJOIkBteQF0A3OoC+QA)

----

```ts
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAcwKZQAoCc4AdVZQCeAPACoA0iA0oqgB5SpgAmAzogNapFzCJkAfAAo4AIwBWALgFVuRGdQCUMsgG1qAXUQBvAFCJEWdCCxJxEtfM0BuPQF8gA)

----

```ts
class ClassyArray<T> {
  arr: T[];
  constructor(arr: T[]) { this.arr = arr; }

  get(): T[] { return this.arr; }
  add(item: T) { this.arr.push(item); }
  remove(item: T) {
    this.arr = this.arr.filter(el => el !== item)
  }
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEDC5QJ4EEBOqyIDwBUB80A3gFDTRjoBc0OA2gLoDcp0wA9gHYQAuqArsG5tUACgqpqdegEoi0bgAsAlhAB046AF5y6RtAC+xFgHMAptxHTJDOanN9UHecrXi9hsmAAmXkUu6mALaSsoTOKuroqgAOfBAKfgGB0u4sdoFsAG6miUEhRCxkihEa2sWuUQBmSiABoqYgWgQN0ACEmtr+QdIshvpAA)

----

```ts
class Joiner<T extends string | number> {
  join(els: T[]) {
    return els.map(el => String(el)).join(',');
  }
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEBSD2BLAdgUwE4B4Aq1UA8AXVZAExgkPRQHNoAfaZAVwFsAjDAPmgG8AoaNABWSZAApUICAC5o2ANoBdAJR9BQ6OlSFm6ZHmkA6VmAAOkkNAC8PAMpVallSqOiU4gOQAaTyoDcGgC+-EFAA)

----

```ts
class Joiner {
  join<T extends string | number>(els: T[]) {
    return els.map(el => String(el)).join(',');
  }
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEBSD2BLAdgUwE7QN4ChrQCslkAeAFWlQA8AXVZAExghvRQHNoAfaZAVwC2AIwwA+ABSoQEAFzQyAbQC6ASmx580dKhp90yStIB0AsAAdJIaAF5R0AMqsOllSqNEU4gOQAaLyoBuDQBfHGCgA)

----

```ts
class Joiner {
  join(els: (string | number)[]) {
    return els.map(el => String(el)).join(',');
  }
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/MYGwhgzhAEBSD2BLAdgUwE7QN4ChrQCslkAKVECALmhIgBd0UBzaAH2mQFcBbAIwwCUAbQC6A7HnzR0qOp3TJo5CADpuYAA5kQ0ALwA+aAGUGzbQIEqiKEgHIANLYEBuSQF8cboA)

----

```ts
function join(els: (string|number)[]) {
  return els.map(el => String(el)).join(',');
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAKzjMAKApgGwM4BciGeUATugOYA+YIAtgEZZkCUA2gLquIDeAUIkRksUEGSS48AOnoBDAA7YciALwA+RAGVyVZa1bTU6DAHIANKdYBufgF8gA)

----

```ts
interface Lengthy {
  length: number;
}
function getLength<T extends Lengthy>(x: T) {
  return x.length;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/JYOwLgpgTgZghgYwgAgDIRAczACwJ7IDeAUMsgDYbY4BcyIArgLYBG0A3MQL7EwMgIwwAPYhkmCGHRZcAHgAqyCAA9IIACYBnNFVx4AfAApldeQEoipZFEkMoY5QDpKMnJy5A)

----

```ts
function getLength(x: Lengthy) {
  return x.length;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAcwKZQDKrMqALACgA8AuRLHfATwEpEBvAKEUQCd0RWkiA6AG2y48AbkYBfIA)

----

```ts
function getLength(x: {length: number}) {
  return x.length;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAcwKZQDKrMqALACgA8AuRAbwBttc8ywQBbAI1QCcBfASgoChFEbdCDZIiAOmo58Abl4cgA)

----

```ts
function getLength(x: ArrayLike<unknown>) {
  return x.length;
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABAcwKZQDKrMqALACgA8AuRAQQCdKBDATwxgGtUAecJsOAdzAD4AlIgDeAKESJK6EJSREAdABtsuPAG5RAXyA)

----

```ts
declare function processUnrelatedTypes<A, B>(a: A, b: B): void;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtXwAcYcwQBnMgVVTmgxGABUBPA8gHgEEAaeAIQB8ACigAueD3gAjcXwCU4gG44swANxA)

----

```ts
declare function processUnrelatedTypes(a: unknown, b: unknown): void;
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/CYUwxgNghgTiAEAzArgOzAFwJYHtXwAcYcwQBnMgVVTmgxGABUBPA8gCigC540BrVDgDuqADTwARj36CRASh4A3HFmABuIA)

----

```ts
function processUnrelatedTypes<A, B>(a: A, b: B) {
    a = b;
//  ~ Type 'B' is not assignable to type 'A'.
//    å‹ 'B' ã‚’å‹ 'A' ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
    b = a;
//  ~ Type 'A' is not assignable to type 'B'.
//    å‹ 'A' ã‚’å‹ 'B' ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABABwE5wgUwM7YKpiqYA2AhlJgCYAqAnsjgDwCCANIgEIB8AFKQFyI2iAEaCOASkQBvAFCIFiUogC8ogNyyA9FoUA-RHQaIA5BxOIY2RGDhQluGAHMwpEcUyIocL-U8nmEwA6bV1FQGj1U3NEQCSGSICLQGsGQCclQCiGQGV9QDMGQGiGQGUGQAsGQHsGQHMGQFkGQD8GQG0GQGSGQCAGeUURVSVNHX1DP1NAy2tbe1JHFzcPLx8oTrNg0MVEeO64qKS0rLyisqq62QBfIA)

----

```ts
function processUnrelatedTypes(a: unknown, b: unknown) {
  a = b;  // OK
  b = a;  // OK
}
```

[ğŸ’» TypeScriptãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](https://www.typescriptlang.org/ja/play/?ts=5.8.2#code/GYVwdgxgLglg9mABABwE5wgUwM7YKpiqYA2AhlJgCYAqAnsjgBSkBci4A1mHAO5gA0iAEZtO3PgEpEAbwBQiRKUQBeYQG4FAek2IA8gGl5wlYo2JtewwF8gA)
